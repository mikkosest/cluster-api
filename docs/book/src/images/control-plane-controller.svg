<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1164px" preserveAspectRatio="none" style="width:988px;height:1164px;" version="1.1" viewBox="0 0 988 1164" width="988px" zoomAndPan="magnify"><defs><filter height="300%" id="f53s4pfl5yjcd" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="403.625" cy="20" fill="#000000" filter="url(#f53s4pfl5yjcd)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="319.625" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="148" x="329.625" y="71.1387">Control plane controller</text><rect fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="336" x="235.625" y="147.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="316" x="245.625" y="169.1074">Control plane controller enqueues a Reconcile call</text><polygon fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" points="379.125,201.9375,428.125,201.9375,440.125,213.9375,428.125,225.9375,379.125,225.9375,367.125,213.9375,379.125,201.9375" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="379.125" y="217.7456">Deleted?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="347.125" y="211.3433">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="440.125" y="211.3433">no</text><rect fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="74.5" y="284.3398"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="115" x="84.5" y="305.4785">Reconcile deletion</text><polygon fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" points="87,235.9375,197,235.9375,209,247.9375,197,259.9375,87,259.9375,75,247.9375,87,235.9375" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="146" y="270.1479">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="110" x="87" y="251.7456">Has cluster owner?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="209" y="245.3433">no</text><polygon fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" points="142,338.3086,154,350.3086,142,362.3086,130,350.3086,142,338.3086" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="264" x="10" y="397.3086"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="244" x="20" y="418.4473">Delete implementation-specific finalizer</text><rect fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="310" x="510.25" y="284.3398"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="290" x="520.25" y="305.4785">Add implementation-specific finalizer if needed</text><rect fill="#ADD8E6" filter="url(#f53s4pfl5yjcd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="240" x="545.25" y="348.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="220" x="555.25" y="370.0449">Get cluster object for control plane</text><rect fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="581.75" y="466.2773"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="147" x="591.75" y="487.416">Reconcile control plane</text><polygon fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" points="592.25,520.2461,738.25,520.2461,750.25,532.2461,738.25,544.2461,592.25,544.2461,580.25,532.2461,592.25,520.2461" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="592.25" y="536.0542">Control plane is initialized</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="560.25" y="529.6519">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="750.25" y="529.6519">no</text><rect fill="#ADD8E6" filter="url(#f53s4pfl5yjcd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="197" x="426" y="554.2461"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="177" x="436" y="575.3848">Set status.Initialized to true</text><polygon fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" points="445,621.2305,604,621.2305,616,633.2305,604,645.2305,445,645.2305,433,633.2305,445,621.2305" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="445" y="637.0386">Control plane is contactable</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="419" y="630.6362">no</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="616" y="630.6362">no</text><rect fill="#ADD8E6" filter="url(#f53s4pfl5yjcd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="178" x="334" y="655.2305"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="158" x="344" y="676.3691">Set status.Ready to true</text><rect fill="#FFC0CB" filter="url(#f53s4pfl5yjcd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="178" x="537" y="655.2305"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="158" x="547" y="676.3691">Set status.Ready to false</text><polygon fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" points="524.5,695.1992,536.5,707.1992,524.5,719.1992,512.5,707.1992,524.5,695.1992" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FFC0CB" filter="url(#f53s4pfl5yjcd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="745" y="554.2461"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="102" x="755" y="575.3848">Return Requeue</text><polygon fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" points="665.25,725.1992,677.25,737.1992,665.25,749.1992,653.25,737.1992,665.25,725.1992" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" points="419.75,417.875,910.75,417.875,922.75,429.875,910.75,441.875,419.75,441.875,407.75,429.875,419.75,417.875" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="669.25" y="452.0854">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="491" x="419.75" y="433.6831">Cluster object has status.ControlPlaneEndpoint and status.InfrastructureReady is true</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="922.75" y="427.2808">no</text><polygon fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" points="665.25,769.1992,677.25,781.1992,665.25,793.1992,653.25,781.1992,665.25,769.1992" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" points="560.75,235.9375,769.75,235.9375,781.75,247.9375,769.75,259.9375,560.75,259.9375,548.75,247.9375,560.75,235.9375" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="669.25" y="270.1479">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="209" x="560.75" y="251.7456">OwnerReferences contains a Cluster</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="781.75" y="245.3433">no</text><polygon fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" points="665.25,813.1992,677.25,825.1992,665.25,837.1992,653.25,825.1992,665.25,813.1992" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" points="403.625,843.1992,415.625,855.1992,403.625,867.1992,391.625,855.1992,403.625,843.1992" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#ADD8E6" filter="url(#f53s4pfl5yjcd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="354" x="226.625" y="887.1992"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="334" x="236.625" y="908.3379">Patch ImplementationControlPlane back to API server</text><polygon fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" points="403.625,103.9688,415.625,115.9688,403.625,127.9688,391.625,115.9688,403.625,103.9688" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" points="306.625,941.168,500.625,941.168,512.625,953.168,500.625,965.168,306.625,965.168,294.625,953.168,306.625,941.168" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="194" x="306.625" y="956.9761">Reconcile returned RequeueError?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="512.625" y="950.5737">yes</text><rect fill="#FFC0CB" filter="url(#f53s4pfl5yjcd)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="210" x="298.625" y="1033.5703"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="190" x="308.625" y="1054.709">Error reconciling control plane</text><polygon fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" points="334.125,985.168,473.125,985.168,485.125,997.168,473.125,1009.168,334.125,1009.168,322.125,997.168,334.125,985.168" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="407.625" y="1019.3784">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="334.125" y="1000.9761">Reconcile returned error</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="485.125" y="994.5737">no</text><polygon fill="#FEFECE" filter="url(#f53s4pfl5yjcd)" points="403.625,1087.5391,415.625,1099.5391,403.625,1111.5391,391.625,1099.5391,403.625,1087.5391" style="stroke: #A80036; stroke-width: 1.5;"/><ellipse cx="403.625" cy="1142.5391" fill="#FFFFFF" filter="url(#f53s4pfl5yjcd)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="403.625" cy="1142.5391" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="403.625" x2="403.625" y1="30" y2="50"/><polygon fill="#A80036" points="399.625,40,403.625,50,407.625,40,403.625,44" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="142" x2="142" y1="259.9375" y2="284.3398"/><polygon fill="#A80036" points="138,274.3398,142,284.3398,146,274.3398,142,278.3398" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="209" x2="221" y1="247.9375" y2="247.9375"/><polygon fill="#A80036" points="217,291.3242,221,301.3242,225,291.3242,221,295.3242" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="221" x2="221" y1="247.9375" y2="350.3086"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="221" x2="154" y1="350.3086" y2="350.3086"/><polygon fill="#A80036" points="164,346.3086,154,350.3086,164,354.3086,160,350.3086" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="142" x2="142" y1="318.3086" y2="338.3086"/><polygon fill="#A80036" points="138,328.3086,142,338.3086,146,328.3086,142,332.3086" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="142" x2="142" y1="362.3086" y2="397.3086"/><polygon fill="#A80036" points="138,387.3086,142,397.3086,146,387.3086,142,391.3086" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="665.25" x2="665.25" y1="318.3086" y2="348.9063"/><polygon fill="#A80036" points="661.25,338.9063,665.25,348.9063,669.25,338.9063,665.25,342.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="433" x2="423" y1="633.2305" y2="633.2305"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="423" x2="423" y1="633.2305" y2="655.2305"/><polygon fill="#A80036" points="419,645.2305,423,655.2305,427,645.2305,423,649.2305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="616" x2="626" y1="633.2305" y2="633.2305"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="626" x2="626" y1="633.2305" y2="655.2305"/><polygon fill="#A80036" points="622,645.2305,626,655.2305,630,645.2305,626,649.2305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="423" x2="423" y1="689.1992" y2="707.1992"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="423" x2="512.5" y1="707.1992" y2="707.1992"/><polygon fill="#A80036" points="502.5,703.1992,512.5,707.1992,502.5,711.1992,506.5,707.1992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="626" x2="626" y1="689.1992" y2="707.1992"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="626" x2="536.5" y1="707.1992" y2="707.1992"/><polygon fill="#A80036" points="546.5,703.1992,536.5,707.1992,546.5,711.1992,542.5,707.1992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="524.5" x2="524.5" y1="588.2148" y2="621.2305"/><polygon fill="#A80036" points="520.5,611.2305,524.5,621.2305,528.5,611.2305,524.5,615.2305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="580.25" x2="524.5" y1="532.2461" y2="532.2461"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="524.5" x2="524.5" y1="532.2461" y2="554.2461"/><polygon fill="#A80036" points="520.5,544.2461,524.5,554.2461,528.5,544.2461,524.5,548.2461" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="750.25" x2="806" y1="532.2461" y2="532.2461"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="806" x2="806" y1="532.2461" y2="554.2461"/><polygon fill="#A80036" points="802,544.2461,806,554.2461,810,544.2461,806,548.2461" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="524.5" x2="524.5" y1="719.1992" y2="737.1992"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="524.5" x2="653.25" y1="737.1992" y2="737.1992"/><polygon fill="#A80036" points="643.25,733.1992,653.25,737.1992,643.25,741.1992,647.25,737.1992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="806" x2="806" y1="588.2148" y2="737.1992"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="806" x2="677.25" y1="737.1992" y2="737.1992"/><polygon fill="#A80036" points="687.25,733.1992,677.25,737.1992,687.25,741.1992,683.25,737.1992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="665.25" x2="665.25" y1="500.2461" y2="520.2461"/><polygon fill="#A80036" points="661.25,510.2461,665.25,520.2461,669.25,510.2461,665.25,514.2461" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="665.25" x2="665.25" y1="441.875" y2="466.2773"/><polygon fill="#A80036" points="661.25,456.2773,665.25,466.2773,669.25,456.2773,665.25,460.2773" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="922.75" x2="934.75" y1="429.875" y2="429.875"/><polygon fill="#A80036" points="930.75,591.2305,934.75,601.2305,938.75,591.2305,934.75,595.2305" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="934.75" x2="934.75" y1="429.875" y2="781.1992"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="934.75" x2="677.25" y1="781.1992" y2="781.1992"/><polygon fill="#A80036" points="687.25,777.1992,677.25,781.1992,687.25,785.1992,683.25,781.1992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="665.25" x2="665.25" y1="749.1992" y2="769.1992"/><polygon fill="#A80036" points="661.25,759.1992,665.25,769.1992,669.25,759.1992,665.25,763.1992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="665.25" x2="665.25" y1="382.875" y2="417.875"/><polygon fill="#A80036" points="661.25,407.875,665.25,417.875,669.25,407.875,665.25,411.875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="665.25" x2="665.25" y1="259.9375" y2="284.3398"/><polygon fill="#A80036" points="661.25,274.3398,665.25,284.3398,669.25,274.3398,665.25,278.3398" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="781.75" x2="944.75" y1="247.9375" y2="247.9375"/><polygon fill="#A80036" points="940.75,522.2617,944.75,532.2617,948.75,522.2617,944.75,526.2617" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="944.75" x2="944.75" y1="247.9375" y2="825.1992"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="944.75" x2="677.25" y1="825.1992" y2="825.1992"/><polygon fill="#A80036" points="687.25,821.1992,677.25,825.1992,687.25,829.1992,683.25,825.1992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="665.25" x2="665.25" y1="793.1992" y2="813.1992"/><polygon fill="#A80036" points="661.25,803.1992,665.25,813.1992,669.25,803.1992,665.25,807.1992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="367.125" x2="142" y1="213.9375" y2="213.9375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="142" x2="142" y1="213.9375" y2="235.9375"/><polygon fill="#A80036" points="138,225.9375,142,235.9375,146,225.9375,142,229.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="440.125" x2="665.25" y1="213.9375" y2="213.9375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="665.25" x2="665.25" y1="213.9375" y2="235.9375"/><polygon fill="#A80036" points="661.25,225.9375,665.25,235.9375,669.25,225.9375,665.25,229.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="142" x2="142" y1="431.2773" y2="855.1992"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="142" x2="391.625" y1="855.1992" y2="855.1992"/><polygon fill="#A80036" points="381.625,851.1992,391.625,855.1992,381.625,859.1992,385.625,855.1992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="665.25" x2="665.25" y1="837.1992" y2="855.1992"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="665.25" x2="415.625" y1="855.1992" y2="855.1992"/><polygon fill="#A80036" points="425.625,851.1992,415.625,855.1992,425.625,859.1992,421.625,855.1992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="403.625" x2="403.625" y1="181.9375" y2="201.9375"/><polygon fill="#A80036" points="399.625,191.9375,403.625,201.9375,407.625,191.9375,403.625,195.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="403.625" x2="403.625" y1="867.1992" y2="887.1992"/><polygon fill="#A80036" points="399.625,877.1992,403.625,887.1992,407.625,877.1992,403.625,881.1992" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="403.625" x2="403.625" y1="127.9688" y2="147.9688"/><polygon fill="#A80036" points="399.625,137.9688,403.625,147.9688,407.625,137.9688,403.625,141.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="512.625" x2="962.75" y1="953.168" y2="953.168"/><polygon fill="#A80036" points="958.75,540.2617,962.75,530.2617,966.75,540.2617,962.75,536.2617" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="962.75" x2="962.75" y1="115.9688" y2="953.168"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="962.75" x2="415.625" y1="115.9688" y2="115.9688"/><polygon fill="#A80036" points="425.625,111.9688,415.625,115.9688,425.625,119.9688,421.625,115.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="403.625" x2="403.625" y1="921.168" y2="941.168"/><polygon fill="#A80036" points="399.625,931.168,403.625,941.168,407.625,931.168,403.625,935.168" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="403.625" x2="403.625" y1="83.9688" y2="103.9688"/><polygon fill="#A80036" points="399.625,93.9688,403.625,103.9688,407.625,93.9688,403.625,97.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="403.625" x2="403.625" y1="1009.168" y2="1033.5703"/><polygon fill="#A80036" points="399.625,1023.5703,403.625,1033.5703,407.625,1023.5703,403.625,1027.5703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="485.125" x2="518.625" y1="997.168" y2="997.168"/><polygon fill="#A80036" points="514.625,1040.5547,518.625,1050.5547,522.625,1040.5547,518.625,1044.5547" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="518.625" x2="518.625" y1="997.168" y2="1099.5391"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="518.625" x2="415.625" y1="1099.5391" y2="1099.5391"/><polygon fill="#A80036" points="425.625,1095.5391,415.625,1099.5391,425.625,1103.5391,421.625,1099.5391" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="403.625" x2="403.625" y1="1067.5391" y2="1087.5391"/><polygon fill="#A80036" points="399.625,1077.5391,403.625,1087.5391,407.625,1077.5391,403.625,1081.5391" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="403.625" x2="403.625" y1="965.168" y2="985.168"/><polygon fill="#A80036" points="399.625,975.168,403.625,985.168,407.625,975.168,403.625,979.168" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="403.625" x2="403.625" y1="1111.5391" y2="1131.5391"/><polygon fill="#A80036" points="399.625,1121.5391,403.625,1131.5391,407.625,1121.5391,403.625,1125.5391" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml

start

:Control plane controller;
repeat
:Control plane controller enqueues a Reconcile call;
if (Deleted?) then (yes)
    if (Has cluster owner?) then (yes)
        :Reconcile deletion;
    else (no)
    endif
    :Delete implementation-specific finalizer;
else (no)
    if (OwnerReferences contains a Cluster) then (yes)
        :Add implementation-specific finalizer if needed;
        #LightBlue:Get cluster object for control plane;
        if (Cluster object has status.ControlPlaneEndpoint and status.InfrastructureReady is true) then (yes)
          :Reconcile control plane;
          if (Control plane is initialized) then (yes)
            #LightBlue:Set status.Initialized to true;
            if (Control plane is contactable) then (no)
              #LightBlue:Set status.Ready to true;
            else (no)
              #Pink:Set status.Ready to false;
            endif
          else (no)
            #Pink:Return Requeue;
          endif
      else (no)
      endif
    else (no)
    endif
endif
#LightBlue:Patch ImplementationControlPlane back to API server;
repeat while (Reconcile returned RequeueError?) is (yes)
if (Reconcile returned error) then (yes)
#Pink:Error reconciling control plane;
else (no)
endif
stop

@enduml

PlantUML version 1.2019.06(Fri May 24 17:10:25 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_222-b10
Operating System: Linux
OS Version: 5.3.11-200.fc30.x86_64
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>
